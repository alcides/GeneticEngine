from __future__ import annotations

import os
from abc import ABC
from dataclasses import dataclass
from typing import Annotated
from typing import Any

import numpy as np
from sklearn.metrics import mean_squared_error

from geneticengine.algorithms.gp.gp import GP
from geneticengine.core.grammar import extract_grammar
from geneticengine.core.representations.grammatical_evolution.ge import (
    ge_representation,
)
from geneticengine.core.representations.grammatical_evolution.structured_ge import (
    sge_representation,
)
from geneticengine.core.representations.tree.treebased import treebased_representation
from geneticengine.metahandlers.floats import FloatRange
from geneticengine.metahandlers.ints import IntRange

# Load Dataset
dataset = [
    [
        -6.1717717206577145,
        -9.83486465860987,
        [
            11.993878159249405,
            14.249773713194738,
            20.916615785381914,
            34.94722066549555,
            19.498758185542883,
            19.51351839676185,
            15.59226885826119,
            33.08141432068953,
            23.229902610113243,
            12.035439249528903,
        ],
        [
            1.0634680179921316,
            4.636413898865097,
            -2.0324792390513458,
            -4.862281537014881,
            3.1043511823632883,
            -4.3529795909240345,
            -0.4346407833438759,
            -1.4595269997619575,
            -2.3105799040487183,
            -0.28767266760333055,
        ],
        -188.14544074813224,
    ],
    [
        0.04075831317855538,
        7.548070167132806,
        [
            33.901160394614806,
            25.27928234075124,
            21.996901444631433,
            23.80580288430458,
            24.460872719023154,
            14.626116427876093,
            38.16176288622536,
            11.232451902376107,
            34.52956106907928,
            32.5918804624322,
        ],
        [
            -1.340120488641455,
            -2.451385304633573,
            -3.866868248451939,
            4.642050297969373,
            -1.2065039554502013,
            -0.37878377824040044,
            -1.6781896252311967,
            1.1015272508219285,
            3.883251027217943,
            1.0874107410421914,
        ],
        -226.79229223581245,
    ],
    [
        -7.777198586084319,
        6.204166338644118,
        [
            11.955187141535003,
            11.897267594868651,
            18.45778140240701,
            18.265123707756718,
            29.439699430143367,
            20.727879558991987,
            15.166780321014295,
            36.337603131504565,
            19.145417009047947,
            22.35485999237165,
        ],
        [
            -3.713578798732202,
            -0.3527904414143004,
            -1.095873789713261,
            1.3513788607875332,
            -0.2858339609914209,
            -2.225916427101584,
            4.248200525477596,
            -4.85915593981521,
            -0.045630668560534104,
            4.565532640842996,
        ],
        -174.9963718227346,
    ],
    [
        9.690286995747886,
        -9.302872964334272,
        [
            26.235349372826015,
            23.663049103365488,
            28.72394983709649,
            30.208169707274653,
            14.852668392103373,
            13.196896910438584,
            24.366022579043303,
            20.66704470816201,
            36.265582038390114,
            26.262053261635675,
        ],
        [
            -0.14676977580244355,
            -0.08791459621541975,
            4.930826177950777,
            -1.3305684475466864,
            0.3396355308300558,
            -1.677269523857551,
            -1.7766396030057239,
            3.1320946610269615,
            0.19612057749803213,
            -2.6369293916869263,
        ],
        -230.14790733190839,
    ],
    [
        -6.89125830881123,
        2.3545707163922955,
        [
            24.956862002928002,
            14.830994155548897,
            29.916189860217152,
            16.88252515276919,
            37.365993129777515,
            19.225788792880948,
            11.929686126207807,
            32.87361641863134,
            38.52177370940122,
            23.65942364126115,
        ],
        [
            1.126489966723529,
            2.183219190340947,
            3.0154308767626716,
            -3.689262171409178,
            -4.784618001754372,
            -4.06583398624197,
            2.022778588127517,
            -0.05228079333108937,
            -2.4187038075655876,
            -1.5862045940943545,
        ],
        -215.36791071507088,
    ],
    [
        9.488379342508352,
        -6.498469972633664,
        [
            17.14145224889444,
            18.97141405617758,
            15.591371988137613,
            15.188007091424563,
            31.9829011101325,
            21.291495779769626,
            21.47528361027325,
            39.57739153830143,
            15.632289429239654,
            38.59163974854394,
        ],
        [
            -4.383808492584014,
            -2.173428013488933,
            3.760254160300594,
            4.726834469473639,
            -0.7740910654352327,
            3.7674629396222894,
            -4.726834773520539,
            4.346000370301692,
            1.6818959579619763,
            -0.3349952457269554,
        ],
        -223.6977531896529,
    ],
    [
        -8.620261218240026,
        -9.614538246488525,
        [
            32.01550700738255,
            23.656992351977827,
            12.578581187892315,
            28.454317838870207,
            36.516781756480995,
            11.606966015403057,
            11.333467918502722,
            28.20075656455774,
            37.52094095779792,
            13.257132632501422,
        ],
        [
            2.485332021678323,
            -2.187205919875952,
            -4.224162912753569,
            -2.318683832353987,
            0.46874418036888077,
            0.32710693238507105,
            1.2363131171125188,
            4.023821495391694,
            3.8106294731733286,
            2.9417053919410394,
        ],
        -227.14907800707925,
    ],
    [
        -0.017110562990360734,
        4.732742073594958,
        [
            26.50337002389908,
            29.135695164611363,
            32.21424156106927,
            18.8011939999328,
            31.62396742591501,
            28.765715579798954,
            35.91979986332585,
            37.45538970238068,
            30.035301523362254,
            13.878576965379157,
        ],
        [
            -3.4745129039003464,
            2.172110484756189,
            -0.3986589995644998,
            0.5683717145513469,
            1.1584927345000047,
            -0.6729472110662291,
            1.8585585714331145,
            1.1756029046185361,
            3.676764218371302,
            -1.2015217657989377,
        ],
        -255.54321832822242,
    ],
    [
        -6.522001595385609,
        6.43153954484605,
        [
            30.03010876878089,
            26.065539176805014,
            31.64319814161242,
            22.300518364796865,
            14.734098366293278,
            36.19876006966537,
            11.979699306159658,
            26.285982613206258,
            35.91930040614533,
            37.17930281996756,
        ],
        [
            3.551980081629445,
            -2.4903132902875535,
            4.223406603836429,
            -0.6820878321647452,
            4.32875806049603,
            -0.5127956739602215,
            2.020972631937097,
            -2.015659012890769,
            -4.113652811992838,
            3.2938069645250057,
        ],
        -245.51529183425842,
    ],
    [
        4.767730141255907,
        8.669359347933622,
        [
            15.287517772392905,
            25.61237938884544,
            33.53005094782311,
            24.923941121686475,
            29.35654021653881,
            35.164663095481885,
            38.33396222121712,
            22.295375944258794,
            32.55702815039774,
            39.97686812660183,
        ],
        [
            0.4016587377569367,
            0.7312223778488054,
            0.5364566816927621,
            2.991277306136338,
            -0.6864704125698236,
            -2.8044242819161935,
            0.121039910550933,
            1.432891104106976,
            2.056639798586879,
            0.27223670926704724,
        ],
        -263.21241007710074,
    ],
    [
        -4.040482156591052,
        -0.9083468964033141,
        [
            21.302266579106956,
            26.50640574320131,
            33.05115822734558,
            37.39640878090262,
            24.337933564029683,
            26.066300128891328,
            16.856042524389903,
            37.32755173161509,
            34.38440844911544,
            20.982796645256826,
        ],
        [
            4.788669914361678,
            3.0266927889296316,
            3.6508272714513375,
            -3.483071807566631,
            -3.3079115895887323,
            -3.8414728870393033,
            -2.861173380091958,
            -2.042469413378808,
            3.625339976609528,
            2.615363663800344,
        ],
        -253.25220711661092,
    ],
    [
        5.202629792342277,
        9.94700060977081,
        [
            10.479852222909047,
            11.354074547739662,
            23.586953136854156,
            25.554656777366453,
            35.26856857297164,
            23.05927279436898,
            28.64891145305194,
            24.567953311796195,
            20.319065095501337,
            38.26448270093303,
        ],
        [
            -4.9287187357022155,
            2.9906835470366087,
            -3.949137346583159,
            3.745172084147203,
            -3.0283212439084872,
            -2.423922466124252,
            0.6442976496036099,
            0.15817146492886547,
            -3.1578221817011096,
            4.990958015443383,
        ],
        -202.58363565079878,
    ],
    [
        -9.591179447516602,
        -0.43430676501638743,
        [
            15.498601096039454,
            18.786422888447415,
            11.288682472075028,
            10.849675830472961,
            35.21403295484373,
            22.88269058340861,
            22.008720188344586,
            39.342492051325166,
            37.890289900137795,
            25.16740222768501,
        ],
        [
            -0.9899535528055328,
            4.087874607526974,
            -4.806654166874923,
            1.1130138479770242,
            -2.5919351716018415,
            0.1825440119459385,
            -2.051858180259151,
            2.192214908624207,
            -2.3173652932883906,
            -2.7162798986347934,
        ],
        -208.36185693986673,
    ],
    [
        -8.2401482066206,
        -6.275118191830198,
        [
            31.323981631943003,
            26.232329423736285,
            32.947133963746964,
            11.288525243143946,
            11.847858950739784,
            31.416227377775478,
            15.792012483557645,
            32.163302205966914,
            38.08357198316956,
            37.23660293488794,
        ],
        [
            -1.7334514224074473,
            -4.931086701006833,
            -3.3458319423745975,
            -2.20233217385763,
            -0.927020345924344,
            1.8189357012306475,
            1.6032891408912295,
            2.7840089273497304,
            -2.8007422601226297,
            -4.472123381886158,
        ],
        -234.98779075833372,
    ],
    [
        6.332351347338882,
        2.1315483750490642,
        [
            14.10341228173678,
            31.804547134451543,
            11.945806183873355,
            30.202067872439294,
            10.373634963564749,
            12.188999450347675,
            37.29247757336786,
            19.63735849106308,
            32.28688962517401,
            14.15014170525518,
        ],
        [
            -2.512891926718418,
            2.707395322715387,
            -2.431872856551985,
            -2.1633634345064867,
            -4.075329885891188,
            2.4038192791157194,
            -3.9521534954024427,
            4.60045948568753,
            -1.9129582593745575,
            2.4341847590815027,
        ],
        -186.04281346743667,
    ],
    [
        -5.651191242062168,
        -5.794540529724729,
        [
            18.60248259933409,
            19.096691682042177,
            30.106497270751635,
            15.168449543476507,
            22.19786550854389,
            17.229032445272026,
            21.807918089967018,
            11.606102712629465,
            31.024836693399816,
            39.49601960294366,
        ],
        [
            -3.3013805702481958,
            2.8543966437216195,
            -2.3581909390728892,
            -2.7283551939082775,
            0.7092389946654816,
            0.34147052533863764,
            0.3708397577033171,
            3.2893963419642684,
            1.7742470238873134,
            4.014757090042009,
        ],
        -213.96662476993293,
    ],
    [
        7.929418570416267,
        1.0720508327884986,
        [
            29.77658831969006,
            23.806675076646375,
            38.13982942018948,
            30.892605108985933,
            22.124583627533525,
            15.165577041480585,
            24.092374933414398,
            18.661908190096,
            27.423178345579792,
            22.095947587445984,
        ],
        [
            -3.036657538655334,
            4.886996535604336,
            -2.4531174692075064,
            -0.6528977591661196,
            1.508385225249218,
            2.6540170236978433,
            -4.01052528900789,
            -1.2865358126714632,
            -3.3229196954465703,
            0.13189063195928163,
        ],
        -220.86606232028765,
    ],
    [
        9.045405256701663,
        -5.984283535934849,
        [
            13.708898643346341,
            16.75375439092502,
            20.811086542169498,
            22.96451956302582,
            26.565987096060528,
            33.48480168937327,
            11.704421346059851,
            30.659844056296166,
            11.027785577699651,
            29.93229153383647,
        ],
        [
            -1.0231287820969515,
            -1.141944559809327,
            3.7736675126070836,
            0.3970423591602259,
            -0.9897454890773796,
            -0.22601602555175582,
            -0.3798638671817587,
            -2.49896951771561,
            1.9419099963554851,
            -4.956751421158315,
        ],
        -197.24291511582675,
    ],
    [
        8.084671579213278,
        3.8103649125158263,
        [
            28.7792074170426,
            19.53424948356358,
            35.70470837497578,
            30.898114437435517,
            20.995836718547725,
            31.2591805704018,
            12.008187468129202,
            33.539027297904425,
            29.552102479775474,
            29.852276345439382,
        ],
        [
            -4.019787391146044,
            3.6510776159803644,
            1.8711243388449637,
            -1.4204853369627246,
            4.386305353839957,
            -3.6987868115805353,
            -3.3375267110178775,
            -2.955120566947038,
            -4.362730852714023,
            2.0020430918601733,
        ],
        -234.00473807851967,
    ],
    [
        9.614970470913192,
        -4.2607458732066394,
        [
            25.13959390329116,
            11.44318997894537,
            27.94560431486311,
            35.873353860338355,
            16.766291468874503,
            24.590835162928514,
            12.687575695928219,
            38.479965883695016,
            18.700360619096152,
            38.61146096464816,
        ],
        [
            0.9050032301149455,
            -3.8659109798827194,
            -4.25238184768001,
            2.511475252919749,
            0.5999900313408792,
            3.8266643269734573,
            2.630519220735021,
            -0.5560387887339546,
            -3.337158352217963,
            4.152254727983063,
        ],
        -231.82812967995156,
    ],
    [
        -6.041217008792666,
        -5.51955824375365,
        [
            36.07834489455576,
            32.4645088576236,
            11.06571861923091,
            22.073985767742656,
            38.36814690144112,
            17.090365678954498,
            20.750913538995686,
            12.067527656669093,
            32.520009701196,
            27.987274750647575,
        ],
        [
            4.5178285477942595,
            2.1574744500687517,
            -3.09883914704151,
            4.298018678205139,
            2.8822601309229787,
            1.4616732048920147,
            0.9780319476474366,
            3.760021369765566,
            -4.005922576988938,
            -2.4280475281492784,
        ],
        -240.40992414350967,
    ],
    [
        5.44227912742598,
        -4.70492816100143,
        [
            37.93377364185403,
            21.861986639041305,
            23.907455998060883,
            24.633909047808103,
            16.77397266120564,
            20.820537356859507,
            32.58944037846755,
            29.117844632183306,
            25.885635518573395,
            29.012486913819863,
        ],
        [
            1.9369639171866417,
            -3.1235301464818797,
            -4.992831550605308,
            -3.9744826721821616,
            2.2356239927531725,
            0.45036863938257277,
            -3.532342092294811,
            1.9060164568590192,
            1.3909376602969896,
            -1.3859960772018196,
        ],
        -232.80792198502883,
    ],
    [
        0.9507107658712393,
        -7.300367150853139,
        [
            27.07703902863522,
            24.886029020832673,
            25.58503679103901,
            31.57163594835621,
            14.01894847614438,
            36.13259997018847,
            24.583799089572558,
            32.90641136796165,
            14.819314089457652,
            36.79049760409079,
        ],
        [
            1.5499894217474184,
            4.4213968083147055,
            -1.6120062594779294,
            1.1704257984008501,
            -0.006908706434592737,
            2.6294403193342353,
            -2.1732041384317524,
            -4.90538714490101,
            -4.640047371345721,
            4.015965824956385,
        ],
        -249.23924549545018,
    ],
    [
        -4.072505608560939,
        2.340144310300552,
        [
            25.219251221642654,
            34.64830941549336,
            32.77496152465737,
            35.254034543599516,
            30.986712470905616,
            30.320570247236287,
            25.95323588690355,
            13.513118176837473,
            38.13313109646243,
            14.02817795920349,
        ],
        [
            4.095644804400532,
            -2.216328022014623,
            0.33201255735937707,
            -4.565111012155314,
            3.4594119746601564,
            -0.1849065086842563,
            0.7858941190058992,
            -1.792491127426171,
            3.623086975428322,
            2.0994985937361443,
        ],
        -255.4812490972261,
    ],
    [
        -3.4203495164793063,
        -6.538420743959614,
        [
            13.383197241857394,
            31.89461570014388,
            39.29085404653536,
            18.689335488700337,
            22.072919155138127,
            29.11345168503189,
            20.16661501108544,
            16.799653269296506,
            13.909446014996668,
            24.53234603307692,
        ],
        [
            4.528840031524959,
            -1.8736232346716388,
            -0.9618457020477225,
            2.642770787116979,
            3.4559213198251335,
            4.904754220320099,
            -3.249325753825608,
            -4.802022134596329,
            4.408261870460084,
            0.0838008367257137,
        ],
        -221.62939004198444,
    ],
    [
        -1.4957637325094897,
        3.686216937231986,
        [
            35.47160093207904,
            18.67162295748349,
            10.025904118275497,
            34.35060339664358,
            30.539962304706457,
            13.18601052949905,
            29.667762868728868,
            35.32570237586896,
            24.076067375632817,
            14.624120306899883,
        ],
        [
            4.417520234412175,
            -2.362952784185529,
            4.964889595824548,
            -4.367587930734748,
            -3.059659415576176,
            4.995899255558477,
            -3.2237172540758485,
            -2.301253874419559,
            -2.8755768568063567,
            -0.9103199902410752,
        ],
        -213.40872139378425,
    ],
    [
        -8.128452964060862,
        -2.32257939952766,
        [
            39.7834963210815,
            20.026764460643108,
            22.51731030231923,
            22.836773655133975,
            16.44487910784818,
            27.95920256792591,
            30.995387132997973,
            20.45187884079417,
            18.076268810750513,
            13.231625538394987,
        ],
        [
            -4.122437464467733,
            0.8251726082544097,
            3.643943126866805,
            3.577954902650701,
            1.2430376991324525,
            -2.4798489007420956,
            -4.193452506599219,
            -1.7419673018600736,
            -0.7598711950313666,
            4.934917816247372,
        ],
        -212.2485113696344,
    ],
    [
        3.5640543935337305,
        -5.971819722020248,
        [
            10.056607533272777,
            31.587448483246604,
            25.607962451864143,
            33.98218378784691,
            25.35875561290618,
            28.00453261893108,
            30.861549072963083,
            30.262646179996782,
            25.499290361273566,
            26.522462425476736,
        ],
        [
            -2.6187425089102954,
            -2.0844156710975916,
            4.6012930694187375,
            -4.265964385083073,
            4.778087583438657,
            3.9072237526133176,
            1.5793206619401339,
            0.7478898446905955,
            2.1297214666013184,
            -2.522083339870468,
        ],
        -252.5680118233875,
    ],
    [
        -9.45502979805227,
        -3.8320726011498474,
        [
            39.90119889243681,
            33.39833654913419,
            24.756722375258995,
            33.87137647429724,
            33.8976521949317,
            28.954625214764256,
            31.69650319031144,
            16.886729924273034,
            34.10547354146294,
            15.226227882282362,
        ],
        [
            -1.3360588155243946,
            -4.822271797196925,
            -0.05571026854658001,
            3.546757970613543,
            -2.8902832928674007,
            3.946558948642865,
            -2.626838398435919,
            -4.217643153804897,
            3.406592535110361,
            -4.0571194119708585,
        ],
        -259.0620201008054,
    ],
    [
        7.483966321344848,
        -9.18543492013553,
        [
            12.730045763239207,
            38.118803509782865,
            15.083646305824011,
            19.201038487257364,
            39.63605846555983,
            10.897083611559397,
            13.292103726076432,
            20.12126430181194,
            37.37485354862317,
            16.83853600946717,
        ],
        [
            -4.8322196964503386,
            1.371130960746938,
            0.6888198755967414,
            -1.9091622178529466,
            -1.3725546057634541,
            2.110360398246211,
            1.3681477942708407,
            0.5992688029493634,
            -4.694613380573866,
            -0.25393753697880506,
        ],
        -203.9172416311884,
    ],
    [
        -2.176790320777542,
        4.016197399434409,
        [
            16.723234826709074,
            25.260581381739506,
            27.023152086230013,
            15.24461949176216,
            17.976311607445872,
            16.05579242831383,
            38.866792413208785,
            34.10199211440571,
            21.813483730954133,
            24.34838977255216,
        ],
        [
            1.2143675475511166,
            2.289506078248537,
            3.8855421309788927,
            -1.8993769060378387,
            3.2945124211250203,
            0.7087663828062727,
            -2.6902983284709836,
            0.20987300422676736,
            -3.803727030608516,
            0.36327932778050265,
        ],
        -212.87191763339447,
    ],
    [
        -6.924156505585022,
        7.51253478412465,
        [
            22.9637767767522,
            12.273294817304823,
            23.261121153858312,
            38.25183494971489,
            12.318763558803536,
            20.155633861599632,
            12.20387242882767,
            26.228160440177295,
            29.88938438105508,
            12.638134418635001,
        ],
        [
            1.9433787348719198,
            0.9862006854403926,
            0.5594350899170051,
            1.2641135499213707,
            4.211761115858746,
            2.658915747243795,
            -1.6523158685978547,
            -2.154402829067774,
            -2.522717452155087,
            0.8829433317509663,
        ],
        -187.2126252185961,
    ],
    [
        -8.82372641637729,
        -4.8630507716861215,
        [
            11.055856339874815,
            34.08633746798595,
            26.009641282794043,
            37.46613481131235,
            34.3159085451352,
            20.11640701973363,
            19.32875894435914,
            25.372129502932722,
            30.627053229741634,
            12.798461841014337,
        ],
        [
            2.75191942453794,
            1.847919509697519,
            0.903361244592559,
            -2.5158280987836887,
            0.8834969889899549,
            -2.3927684525400927,
            -0.7770110707175002,
            -4.09967796870542,
            -3.200018029229157,
            -3.9140828487122628,
        ],
        -221.46065048729844,
    ],
    [
        0.40422608636835733,
        -8.842076993910123,
        [
            22.122483203192576,
            21.732911323139902,
            32.978801780118694,
            28.3943056608227,
            12.245032311291451,
            27.330788903798155,
            34.78689501165954,
            33.57725333776854,
            14.276073278488985,
            16.286641278466846,
        ],
        [
            3.6328571377650505,
            -1.7848176156039441,
            4.310542389450999,
            -4.168652068477136,
            3.29048396834896,
            1.2649817234471836,
            -4.552310287263745,
            2.1345823375321995,
            -2.8600648085610003,
            3.7416416524485605,
        ],
        -232.70846445996116,
    ],
    [
        -5.701413685152983,
        -0.4908292593028527,
        [
            33.71021963298796,
            21.655862820888487,
            16.99720264824864,
            12.568259045099515,
            25.83644735223986,
            18.1831259957591,
            27.11947285029599,
            37.821570661826506,
            35.66453908199584,
            25.50256867776396,
        ],
        [
            3.7681275053623526,
            0.037938919604774135,
            3.2903613201320656,
            -3.935878763200513,
            2.822988001175462,
            4.143849479681304,
            -0.9668461778404414,
            2.986308978780155,
            1.5206332649692218,
            4.109254687113918,
        ],
        -246.04323464389864,
    ],
    [
        3.990719496655588,
        6.089330900747129,
        [
            17.486179080249673,
            22.811633307840616,
            38.68552693764822,
            19.77547253188354,
            38.90698770949464,
            12.279999719661927,
            34.764699952209426,
            10.557846918690293,
            11.89882055585758,
            28.599539136723088,
        ],
        [
            3.6183325763099674,
            3.5279334108151144,
            -1.290970204402587,
            4.883695320467545,
            1.8879334676338129,
            4.903407501880373,
            -3.434038049776688,
            3.2628906878911312,
            -4.27919073999128,
            -2.5435452954343676,
        ],
        -215.5835081723397,
    ],
    [
        -4.1293346052275055,
        2.624041682064192,
        [
            22.31826662379495,
            35.00486120925314,
            28.476097957401844,
            34.921202527504164,
            23.76392838337668,
            15.652157146772758,
            32.5320244796558,
            38.8283746469249,
            12.696207862394493,
            38.60797006305086,
        ],
        [
            -3.8439712522283,
            -2.619552996482626,
            -4.5190670725026205,
            2.5311636007306157,
            3.3217249806648947,
            4.73948708744847,
            4.981727435505579,
            -4.12323404767727,
            0.2080650675322051,
            0.06062508419226287,
        ],
        -252.5602112265173,
    ],
    [
        4.608344067227987,
        -3.497738656152098,
        [
            16.440508911975826,
            31.65236430509124,
            26.109584901454276,
            38.69217400141089,
            35.68609485891177,
            21.308716318607175,
            33.03400285596358,
            16.05088327633206,
            37.65073638756355,
            37.5597056397917,
        ],
        [
            -3.995644465064495,
            2.756417509496125,
            -1.0889833047193531,
            2.1423280727956397,
            4.493034217214552,
            0.5692087867187823,
            4.5984313787634274,
            0.9903212301663666,
            -1.9901221087016063,
            0.32217995314546677,
        ],
        -276.1814871103774,
    ],
    [
        2.4205022762600485,
        6.354599003999585,
        [
            37.951419680024415,
            22.674960760033734,
            26.822556243125717,
            30.538302387811342,
            37.34059498630973,
            29.349481503785558,
            18.313191337335393,
            27.0965083609438,
            20.008720232283903,
            27.5122890796853,
        ],
        [
            -2.881053932686426,
            -2.7306010523353095,
            0.06142948362706413,
            3.631840067599102,
            -2.7109709939579005,
            -3.2235055234243726,
            0.5167202021801476,
            -3.0709376697555957,
            1.2906371739070437,
            -2.962956697823956,
        ],
        -232.6211640618023,
    ],
    [
        -4.378790955833798,
        8.105272656770492,
        [
            29.932292246190848,
            16.011846701427768,
            38.10848338800383,
            18.390735631000776,
            39.475157607453625,
            11.2611443222779,
            37.40769507493381,
            20.212689987793404,
            25.195203839985837,
            12.227437120733818,
        ],
        [
            1.8708368364866619,
            1.356983612629695,
            -0.2535050015173237,
            1.5797881753926815,
            3.1265678199566143,
            3.2870196235537925,
            4.3469260451127045,
            4.929465240422688,
            -3.9787284077440788,
            2.716296728895946,
        ],
        -232.37863027692143,
    ],
    [
        -7.006764650377706,
        -7.497248135409813,
        [
            10.193167128650668,
            30.96710485451022,
            23.49422827930608,
            10.23474543525683,
            26.118932240236976,
            28.96336412828944,
            18.905666696767902,
            16.134870727078745,
            24.797586575660983,
            15.74224149114935,
        ],
        [
            2.1420593522140656,
            -0.32334223475140167,
            -2.6404607263782145,
            4.2464675224783885,
            -1.6833757324426935,
            -3.899583749091903,
            2.3479129644419316,
            -0.36342037178640574,
            3.3780730586116654,
            -0.36857688271307065,
        ],
        -195.04614281715044,
    ],
    [
        -0.6978926774779737,
        6.19532920337808,
        [
            26.16854162093249,
            23.224048901041613,
            25.27903563432949,
            39.33550207138316,
            17.767008595787722,
            24.483511513660048,
            26.860524248917745,
            23.235619659895512,
            24.779511788182948,
            22.199590157023582,
        ],
        [
            -1.5824876631851224,
            -1.5351742542778837,
            2.5619015813530925,
            3.8367075267310913,
            1.5129312183963428,
            0.11032517259627195,
            -3.964114980343357,
            3.7150662030288135,
            3.5935392820792114,
            2.8005903553073335,
        ],
        -231.74863156617803,
    ],
    [
        0.03926724133133774,
        7.6418004474683485,
        [
            26.15304395357995,
            34.772006666586286,
            34.33932115130006,
            16.678323925054297,
            26.217068609625432,
            12.176228246997722,
            17.80466888742583,
            38.87412389087394,
            15.604627361038135,
            22.8458163673966,
        ],
        [
            -0.3556343232760337,
            0.9938294731564898,
            4.165374452518606,
            4.162292916606434,
            -2.6716595698581322,
            3.6673581233450747,
            1.8031532233921013,
            -1.5147931671761383,
            1.026357054387729,
            1.6587632141971964,
        ],
        -224.91844296398608,
    ],
    [
        -1.567979563554447,
        7.387199088643165,
        [
            17.500564817814332,
            38.27384632746588,
            38.914890936081136,
            19.67351593208143,
            11.126785793895738,
            16.80001841735261,
            30.92282721903721,
            33.67281492701005,
            10.156626285228617,
            11.796862749136917,
        ],
        [
            -4.34239196054598,
            -4.096957165513078,
            -2.3556897137783386,
            4.480233849261756,
            -2.6870172039951434,
            0.18776400224180012,
            0.35760625538336654,
            -0.9856102899094559,
            1.4552733258078066,
            0.28398060968376715,
        ],
        -191.63515151372317,
    ],
    [
        7.86902563691817,
        6.245621161049222,
        [
            36.20022171352257,
            16.895365987081156,
            28.186780035396033,
            33.43535669864946,
            37.898245674714204,
            19.968802479323067,
            37.1276340705393,
            15.011602524773554,
            12.407286811085749,
            37.702917379580846,
        ],
        [
            -1.857705783287067,
            -4.312898498372332,
            0.9408157723839041,
            -1.8729538190574022,
            -1.3912869692162424,
            1.6113530730765158,
            -0.268394562978961,
            -2.201873179818995,
            -1.9010059499524434,
            3.525795876849241,
        ],
        -234.14983223981372,
    ],
    [
        2.898332233366329,
        0.5516473685511443,
        [
            11.765618222841388,
            30.693052410648058,
            13.913792669188144,
            30.85371268406694,
            34.29576985859391,
            38.82433417155701,
            33.209958676247474,
            11.382333798628828,
            22.808710189555917,
            35.51456857080237,
        ],
        [
            1.5989128107858495,
            -1.8150190773642558,
            -2.624709271242974,
            -2.5235448782892167,
            -2.2816107093316407,
            -3.7129166123679003,
            -3.944505626065239,
            4.148894920301592,
            1.3211756214621069,
            -2.693447105498236,
        ],
        -225.10992582351702,
    ],
    [
        -6.310897907337276,
        1.2554954694629252,
        [
            33.25144113288073,
            19.577575755253346,
            24.322356993579373,
            20.804031223206188,
            37.73404197540941,
            35.080972331482684,
            32.48854729150517,
            15.49458660226085,
            30.882072832561473,
            33.704840401226,
        ],
        [
            -4.844222461540046,
            -1.040582641930544,
            -4.3097208226969554,
            4.130364533046061,
            1.7125141547400577,
            4.023361877942781,
            3.956559687354355,
            3.1546284688315946,
            -0.9897188054313375,
            0.4185250893512604,
        ],
        -259.3414625876663,
    ],
    [
        3.8344482585611708,
        2.2749605955874674,
        [
            36.582122268780395,
            12.98544759052742,
            24.819703071504186,
            11.884490204755982,
            15.143247672440966,
            38.25931514493408,
            10.734443705908884,
            22.821103670578445,
            12.380861580709894,
            38.01687755129693,
        ],
        [
            4.597639046144966,
            2.212086594914667,
            -3.5277431774342096,
            -4.17774231768605,
            3.381755618911976,
            4.236665371361633,
            -3.7448475692061756,
            4.183086493702344,
            0.9353221963201364,
            -0.3872250638575272,
        ],
        -205.9279880935606,
    ],
    [
        6.045648994289035,
        -3.407167150488883,
        [
            27.871918149226556,
            37.469596869968356,
            16.322163752319483,
            21.57680308297026,
            32.908774113022545,
            34.02952865189647,
            24.318536146419067,
            38.95644536626847,
            38.28748889667136,
            16.79853087330298,
        ],
        [
            4.208345359062308,
            2.3906208444706145,
            1.6008869521384383,
            3.4073238108612856,
            2.464184209892978,
            4.162785543017479,
            -2.5904488438563433,
            -2.52564115018611,
            3.841403864009397,
            -3.3510694755481927,
        ],
        -275.34052646482354,
    ],
    [
        5.739430296064336,
        -6.105890540120386,
        [
            26.37926429297165,
            27.53936183389363,
            33.12635698549897,
            34.81763280196961,
            12.01041132583866,
            15.888272521510029,
            37.2449196119846,
            14.520371696578492,
            30.02670470844782,
            34.60628176994482,
        ],
        [
            1.0545178702069986,
            -3.5052994800793824,
            2.2316429534998106,
            -3.0231976894443067,
            1.0561296530731,
            -4.2865408325258425,
            4.820222706617223,
            1.7115287361483587,
            -3.9553089078001835,
            4.77747450382083,
        ],
        -246.44256289605977,
    ],
    [
        5.287647544793737,
        1.7945904698089663,
        [
            11.756801076839722,
            19.888473707905362,
            13.314583213955014,
            28.353967641305807,
            24.670552991486673,
            25.495392070212315,
            19.088943173244488,
            15.358916829956431,
            18.360195844588784,
            39.7335771734743,
        ],
        [
            4.565211050262748,
            3.490861779195498,
            3.1346058649460637,
            -1.1044281869056718,
            1.923105620224824,
            -2.440153981683162,
            2.477039791023129,
            0.22630713245199985,
            -1.4378518445095931,
            4.462235974934025,
        ],
        -206.3919127608089,
    ],
    [
        9.604082678642094,
        -6.224151617434391,
        [
            32.21288378997998,
            15.74772438380382,
            15.201126316800936,
            32.87477052629481,
            25.723861777338687,
            22.861405667506713,
            34.29041591046464,
            25.239187898048506,
            28.66489817773487,
            24.74756429916326,
        ],
        [
            -1.2433167838590995,
            -3.5809596654171894,
            -4.441175396730824,
            -1.5740476039295839,
            4.278826785998152,
            -1.4683261938121928,
            -1.611895001186121,
            -0.5789154161937375,
            4.390485375543845,
            -0.39303769292427404,
        ],
        -232.4314810565971,
    ],
    [
        8.596418172260439,
        -8.889333392365087,
        [
            10.238941146064018,
            16.221864736200853,
            14.673350203725231,
            19.225274811378757,
            33.462310792004054,
            39.90276595780986,
            22.818709661343558,
            10.10520360162144,
            29.87026137642986,
            11.479620949902005,
        ],
        [
            1.7086691493591974,
            -0.2904922970825421,
            -3.3606798849212227,
            -4.914425416045952,
            -4.500691166822717,
            3.5206384712935996,
            -2.098606295424925,
            -4.176287396493019,
            3.1414015381738505,
            -1.649997882980585,
        ],
        -184.72938224234682,
    ],
    [
        -6.156417240998595,
        9.041100726861227,
        [
            19.09572741664767,
            33.593250984549314,
            33.58069563953758,
            38.44905768456826,
            28.425261556551007,
            22.597244217993357,
            30.967666117429676,
            38.157146350331395,
            22.35634065795507,
            27.751563140334863,
        ],
        [
            4.173549766369339,
            -0.31207303951114973,
            1.0257365679762227,
            2.152859567158357,
            -3.8018787890194394,
            -3.470756575986418,
            3.832374243548289,
            0.4100333338314428,
            -3.284537046914936,
            -1.4554683406446833,
        ],
        -255.77831338057348,
    ],
    [
        0.3060447514066489,
        5.949152728886883,
        [
            29.258475049309478,
            17.293884358996603,
            25.869288287805936,
            21.772914196496373,
            38.325096636410095,
            12.360881596050842,
            15.674015237183886,
            20.919594528218422,
            27.40870193885497,
            27.975773615966855,
        ],
        [
            2.6527928873186832,
            4.693752926926212,
            1.1877920671987088,
            -1.726760474856306,
            1.291645668450455,
            -2.090467788557752,
            -3.449185204384192,
            -3.747052797592638,
            -1.6666617406759823,
            -0.2416613746813132,
        ],
        -204.4373849241085,
    ],
    [
        -4.090181589640003,
        7.407971102398875,
        [
            19.246756883982655,
            35.14713640377019,
            14.430768303514874,
            37.70144272817276,
            16.504388910852366,
            35.9477906122305,
            24.253644731000524,
            29.310214901558986,
            26.141132469371037,
            39.685388982569634,
        ],
        [
            -1.3944804415855208,
            -2.445874168270914,
            -2.1324277658614244,
            1.8221398086809248,
            -3.65534807150967,
            -4.298335534715023,
            1.7949804192184438,
            2.991533504489505,
            -0.08481442340722367,
            -2.7012682064059366,
        ],
        -234.03032194049206,
    ],
    [
        8.417308476777045,
        -6.094734736302252,
        [
            15.155118464111851,
            29.16277317717195,
            31.247524139235946,
            18.366483071359962,
            36.47534619230778,
            24.79001060617049,
            30.795867194255223,
            21.257616692921623,
            33.97086579620679,
            33.569556291696216,
        ],
        [
            1.668365449605722,
            4.289153842887563,
            -0.19900007009756848,
            1.08204062942053,
            -2.6518546855552474,
            -2.684068959129519,
            1.5846593617337206,
            2.175750978556642,
            -2.900916255967153,
            1.5835199823369353,
        ],
        -256.9596654456088,
    ],
    [
        -1.6116710018887854,
        1.1854674989403584,
        [
            32.49683127293964,
            26.13048274992466,
            22.260658151048975,
            30.743280982780625,
            39.58667774692461,
            13.362772944009754,
            38.57272936844052,
            28.472656186944427,
            14.690147418514968,
            18.19669757691281,
        ],
        [
            1.55055390400931,
            0.9839418522081598,
            -2.100297827712938,
            -4.936512400921033,
            2.5096635664199676,
            -4.995074174814238,
            -0.7957555687818711,
            3.2031209748425145,
            4.1984667385546075,
            -2.994979152998951,
        ],
        -233.8369885793815,
    ],
    [
        3.7569990771820088,
        -1.5148580128917661,
        [
            30.263905095279664,
            18.704410816835118,
            33.178642134395176,
            23.53231858746742,
            23.33130112654976,
            10.5113524113914,
            30.32551537420772,
            19.125836385476347,
            17.96679709090607,
            36.360987237748056,
        ],
        [
            0.24815071046838177,
            -2.6257510762467895,
            -0.5709078880369685,
            -3.1858663375085996,
            -4.688939471696997,
            3.889392927103936,
            -1.3687192932440553,
            3.756995164719445,
            -4.92676663621379,
            -1.828423122380638,
        ],
        -210.31506612639038,
    ],
    [
        -2.32376200489737,
        -9.929579245786647,
        [
            17.5362544596313,
            15.093674344328392,
            36.3280651570528,
            11.172575457444097,
            33.974879165171245,
            17.235649869429103,
            22.587197544674773,
            36.749288395777626,
            10.444945746353193,
            24.26263229487806,
        ],
        [
            -0.1054266201248577,
            -1.5722225892924344,
            -0.4113124542139257,
            1.6482793120289339,
            0.25812282915490403,
            -4.344453732187992,
            2.547262080827477,
            1.9082634092922603,
            -1.0967289668985112,
            -0.5443281256946246,
        ],
        -211.23493506565524,
    ],
    [
        8.62279489809342,
        3.1202908192155405,
        [
            12.023736534393862,
            12.091269597696137,
            26.19797359297812,
            31.97591134779007,
            21.77590007575345,
            38.16280390796966,
            28.771447103097405,
            35.61647100502834,
            27.81994023439407,
            10.403961683801784,
        ],
        [
            1.656829389519812,
            4.203807895712913,
            -4.796154990798543,
            2.578026848416391,
            1.5716852302498383,
            -4.1494813250574865,
            0.3744783481650904,
            0.5910474641185557,
            4.099086082066227,
            1.2461029489699404,
        ],
        -223.87306785762354,
    ],
    [
        6.176112308162679,
        2.4023644111136058,
        [
            33.56747496586301,
            35.70098956059411,
            17.30913716561418,
            33.2435645717009,
            32.84749807176321,
            14.357197124962786,
            28.134846443852656,
            35.57029709046326,
            11.104763259836636,
            19.276110061701516,
        ],
        [
            -1.888124512255275,
            2.6908531788548338,
            -0.41174905918463445,
            -3.245782608213428,
            1.8484239018385562,
            -2.081835558341588,
            -3.624410527029309,
            0.7980927576259358,
            4.727093711615135,
            3.0265081225432606,
        ],
        -234.2534885403116,
    ],
    [
        -6.124300499488506,
        -5.0158113715920205,
        [
            22.532869158207735,
            26.675416390512446,
            36.69686318434418,
            31.07402694841604,
            27.161464088335258,
            33.836800640096754,
            30.451765192937202,
            31.91014661289542,
            29.715692866781062,
            19.08740521467794,
        ],
        [
            4.145091531007504,
            -1.2850546585744582,
            0.2961398140862803,
            -3.3682003005016137,
            -2.7680501577145247,
            4.8257428154538236,
            -4.611973077078849,
            3.9189309698348147,
            -0.02172915198842329,
            -1.0688656064372504,
        ],
        -265.2998455993542,
    ],
    [
        -8.08091605812822,
        2.9438287581526623,
        [
            34.119839083267024,
            18.978529295687807,
            15.260418486018493,
            17.091189130269168,
            16.682329986474606,
            35.1962515461884,
            13.622866253950242,
            28.834552188812275,
            24.962820467028024,
            23.473648852262464,
        ],
        [
            1.5668272093453206,
            4.878886993882775,
            -0.12273210558194858,
            -2.468650076940958,
            0.01191108138049568,
            1.0531162323726413,
            2.5174172087973865,
            -0.640124551374285,
            3.6583864020556103,
            0.1657244530107258,
        ],
        -212.01505856506301,
    ],
    [
        5.306319856247367,
        -0.16311055674987784,
        [
            32.021545952489035,
            10.02071850050286,
            26.604691971532247,
            38.56327737243198,
            27.514837924410227,
            36.618118796741,
            20.117902905585005,
            37.916009469066566,
            10.26553730477183,
            24.278281547500086,
        ],
        [
            2.393554066543442,
            4.54707972330627,
            1.686414793656664,
            -1.589820150031013,
            -3.1323186013165447,
            0.583510170970917,
            -2.124959873266076,
            -3.5103751190257837,
            -3.4194509063275937,
            4.072796601768228,
        ],
        -237.2477277629283,
    ],
    [
        4.086648395111414,
        3.6141223338895774,
        [
            23.455515167827627,
            37.253692855321404,
            23.852488436424153,
            19.504889961108695,
            12.687629269815751,
            29.64968817021162,
            23.119198528136167,
            26.501836928368444,
            32.261663404036504,
            33.87041103725746,
        ],
        [
            4.518037713770614,
            -2.7204796503330133,
            2.580389357688241,
            3.4691340367678194,
            -4.791993345664276,
            -4.90798384338448,
            -4.342381528731648,
            1.4185412272075286,
            0.6901280094713815,
            0.4911463624018797,
        ],
        -229.09127455404214,
    ],
    [
        -7.399789157412053,
        -4.418072174213467,
        [
            33.15483810011324,
            19.95577354303364,
            23.07485420427909,
            20.603536227776143,
            31.909262155694236,
            15.228551212714667,
            11.385279871013502,
            36.34604521457413,
            36.91915794249647,
            30.592904640226685,
        ],
        [
            -0.9634454441605476,
            2.709208476093881,
            0.6910040231597581,
            -3.7414245825792203,
            3.3964839819237778,
            3.5556335923196887,
            4.4237335880882895,
            -0.4074389920539243,
            -3.930971979161134,
            -4.976196709430444,
        ],
        -238.35218233372316,
    ],
    [
        -1.784885130341479,
        0.8011141921358007,
        [
            28.205770343588316,
            23.124907901666646,
            23.62795293897895,
            39.42457442930717,
            14.54448299190879,
            21.231835866943214,
            24.957734393606533,
            12.658965906701463,
            36.100108431579876,
            19.474292218239597,
        ],
        [
            4.560942156641815,
            2.871669381374888,
            -4.778805807258053,
            0.6184865110280775,
            1.0421838059537682,
            -4.781902085865976,
            -4.647099915835958,
            -0.8656869649788481,
            3.906059843306661,
            -4.975914091789452,
        ],
        -211.86938823745194,
    ],
    [
        9.44725927415152,
        -3.282704813493316,
        [
            37.22986908188116,
            25.338771485123708,
            17.623207307510917,
            12.025814901754236,
            23.192610239104482,
            19.378460484238552,
            18.0185914896145,
            16.932775385087016,
            20.777620851763363,
            19.560785892133797,
        ],
        [
            -2.300773777893088,
            -0.2806517294223356,
            3.3030306724451286,
            2.436011199650217,
            -1.8374174105271734,
            1.5237034293489362,
            -0.8798495151669385,
            4.691737328137224,
            -4.872390236821687,
            1.1495302518910382,
        ],
        -194.99299841036105,
    ],
    [
        6.027578145414118,
        -3.2894741727699284,
        [
            32.527800933846734,
            20.725352022284877,
            34.14361906721979,
            37.74753299907239,
            38.129010852054996,
            26.03305013083855,
            10.068258753881924,
            38.25838110335151,
            38.43236514080123,
            34.468913110847005,
        ],
        [
            -0.39308918950247573,
            3.4563443333193415,
            0.174638598884437,
            2.321522631962484,
            -2.724352275623546,
            -2.345772495017565,
            -4.4168874568174274,
            -2.5124561861849184,
            -0.16174093130709633,
            1.0553269474021265,
        ],
        -277.7785104549528,
    ],
    [
        -6.148150561358941,
        8.48079683571526,
        [
            15.432950556060426,
            17.8507465945978,
            27.571432561533157,
            16.464704828762443,
            35.02694151120551,
            34.960420153729466,
            36.87202628456844,
            26.399796650642035,
            28.244560525301505,
            36.33919452734838,
        ],
        [
            -3.5887252727751884,
            -0.5373417041593687,
            1.0709896994151293,
            -0.4281425521054327,
            3.4256141158858124,
            -0.1314313884592666,
            3.1371061292168765,
            -2.506673175324634,
            -4.650626262151052,
            -1.6835100130674832,
        ],
        -233.8622335574869,
    ],
    [
        4.181256474458735,
        7.433430500712511,
        [
            26.063056984726508,
            30.04615554921643,
            22.024052779789542,
            10.125866456629268,
            30.07996812595283,
            37.33123800031943,
            16.603732466161556,
            36.73738451989085,
            31.635802226744048,
            37.41285651735363,
        ],
        [
            -1.9525628918161586,
            3.8365499519316266,
            -4.372158059119568,
            -1.8688593771526074,
            4.05008644353096,
            1.0700707581928812,
            0.22362655037331702,
            -0.4006158586519062,
            -3.7906836183960735,
            -4.16245046739092,
        ],
        -236.19037485174448,
    ],
    [
        -6.356085348366323,
        6.627044154737646,
        [
            33.78627640244933,
            38.401270218127465,
            20.494175949979713,
            13.467908981392883,
            10.721978888631883,
            19.57096680339872,
            39.272632244658865,
            26.96716411931543,
            16.422151185134627,
            12.176879091713081,
        ],
        [
            -1.8469893025002304,
            1.2814610084512914,
            4.643251955526557,
            0.5419693853475369,
            -4.539059077808786,
            0.9697640345950385,
            0.16798504537044856,
            4.010698373721077,
            0.9039723715755645,
            3.712445426315691,
        ],
        -210.38716864011894,
    ],
    [
        3.4194575337113946,
        0.6634716481961043,
        [
            28.82846511015352,
            28.781014542055562,
            19.487085938142144,
            16.999640659229986,
            32.695391119508564,
            36.71978776973067,
            34.62046095153537,
            10.005490895921032,
            29.304100137164923,
            22.755225317126516,
        ],
        [
            0.6796545015562376,
            1.3472137206220935,
            -4.3973088135403104,
            -3.9636746855228324,
            -1.9565676654608275,
            3.5442583411227027,
            -3.9586364091405835,
            3.8601229982215486,
            -4.490741681891327,
            -0.30566647104452027,
        ],
        -224.8363129997453,
    ],
    [
        9.296026384004637,
        5.872939293252893,
        [
            30.071641033350648,
            30.265300955120637,
            18.542736037333658,
            16.790685162639207,
            28.0719481724853,
            11.514277088010113,
            28.396779126822278,
            23.294956655404338,
            35.60468710420207,
            13.963904002928693,
        ],
        [
            1.337327856380929,
            -1.1744319849341212,
            -2.095716721538885,
            -1.3888062295220571,
            2.3996960495444366,
            -0.7317509629497714,
            -3.0301682239174643,
            -2.8959400688296655,
            -3.281054637527162,
            3.344335981004752,
        ],
        -200.22742646315422,
    ],
    [
        1.5094662807916777,
        -1.266384600936794,
        [
            12.411280443900836,
            28.108570661067247,
            11.8135172157698,
            25.331356242050543,
            18.512423654987227,
            24.611521380966025,
            12.846380991041705,
            20.11277950677827,
            10.650515501638209,
            38.95096127455305,
        ],
        [
            -3.279227864923909,
            1.6754780839523917,
            3.7587242990386276,
            -3.370309904968937,
            2.630628286141807,
            -4.048008558953864,
            -3.6384655718196033,
            -4.28751504946205,
            -3.319344140125997,
            2.021022412714113,
        ],
        -173.60944457884773,
    ],
    [
        7.983658441824176,
        -6.0509268798391,
        [
            16.40861255711529,
            35.12908587328977,
            24.218665607916346,
            33.27749814725057,
            34.43339870813308,
            15.82351881676584,
            28.649277907504914,
            18.983746161801463,
            34.34113152211044,
            33.35954593851487,
        ],
        [
            -4.835986965731518,
            -0.5126099330143479,
            -3.075487260842552,
            -3.579953499277566,
            1.239249920838926,
            0.21055668893657575,
            2.3736579641939404,
            4.183454704885754,
            3.4801222419933904,
            -2.1963844177044045,
        ],
        -250.7709174960518,
    ],
    [
        -9.903571221844148,
        6.8134667540574725,
        [
            19.198112419277535,
            24.91146201978985,
            11.054083235624313,
            35.75700527153184,
            25.58800679045069,
            20.14282460657315,
            28.135663705099752,
            38.97465475464067,
            26.811920404391042,
            21.370449336388532,
        ],
        [
            0.4441093388260047,
            4.592134585173197,
            -3.1373097789621642,
            1.2055001523616395,
            4.404960055146056,
            4.181270227471462,
            -3.9433316191022416,
            2.5554948681045806,
            -1.9493094509141748,
            -1.7190822334196074,
        ],
        -225.9072900655495,
    ],
    [
        8.665737863512813,
        -8.09018898218503,
        [
            35.12132357143801,
            28.1003304658454,
            29.776036901736518,
            23.91573283342892,
            23.623355245148005,
            27.513291440571408,
            21.023279799110078,
            24.102558041580366,
            15.47420948520421,
            17.379529571316027,
        ],
        [
            1.7856975321025157,
            -3.591852001653588,
            0.7585350678064398,
            -0.1288636732815842,
            -3.810597951270699,
            -3.6313535942760042,
            -2.6769258478744016,
            2.8655443411710806,
            0.45733584065314226,
            -2.0813490997880546,
        ],
        -220.46842515425607,
    ],
    [
        -7.612417307945436,
        -8.763792052316523,
        [
            11.211142055990827,
            10.988740294858419,
            38.23155210864711,
            25.24127453088251,
            14.015432767393882,
            33.094009201702534,
            16.90585346280648,
            19.76123756378958,
            38.97634868876464,
            26.892679526744942,
        ],
        [
            2.905861035163097,
            -1.4079290101226736,
            4.589193795413641,
            1.6128495149567765,
            -2.077417119788042,
            3.9049863441776935,
            4.656191811537548,
            -4.156615240110446,
            0.7508633101071807,
            -0.49550368151388646,
        ],
        -229.80446791757817,
    ],
    [
        8.349169003291,
        -0.7715722745458855,
        [
            21.802282583017117,
            16.71138735407781,
            31.52524996686046,
            23.31044540117777,
            34.001549601448495,
            30.168955863445824,
            22.189550899246107,
            30.786420750816408,
            28.06105825619943,
            38.31870070969869,
        ],
        [
            -2.788130370226527,
            2.965299841425275,
            -3.0612034777868677,
            4.233970062011782,
            1.0982661293235818,
            -4.871950178332316,
            3.474279859931247,
            -2.0738164034319717,
            -4.501972160594967,
            0.29904284224562616,
        ],
        -245.25602105204356,
    ],
    [
        -5.0736793838908145,
        1.64489107460005,
        [
            18.405817416299143,
            18.091896571362238,
            15.199986213850707,
            17.36185105253299,
            12.024850810837808,
            12.842759053258039,
            14.159020810773583,
            29.102553972278443,
            37.24722746077764,
            34.32298917996553,
        ],
        [
            0.2994037227482309,
            2.288431446386088,
            3.2757209725273526,
            0.9474641716945644,
            0.9222793362915569,
            4.4353646535865145,
            -3.0431637417968247,
            3.7108122737430342,
            0.7624153932812963,
            0.5421350452437181,
        ],
        -198.96494315947743,
    ],
    [
        8.851055798176816,
        -1.4291450177975644,
        [
            28.991067669116994,
            26.135427399500518,
            37.22114270875231,
            20.043989712240034,
            11.573194238338697,
            37.083064116191814,
            32.366443242113725,
            23.040069750303523,
            26.874527739984508,
            29.747200270011966,
        ],
        [
            -0.8771877968445105,
            0.9168752187508078,
            4.257000477499183,
            -2.8446658843369477,
            -2.939127291329744,
            -2.436214340344872,
            3.4479520685574876,
            3.0242869246788384,
            4.9094051132942145,
            1.2637469504360705,
        ],
        -255.0475234760207,
    ],
    [
        -2.7853144725248864,
        0.5210466612232025,
        [
            33.4916326544904,
            18.649257858515817,
            21.479424367215408,
            17.01381835761486,
            11.829274923080655,
            24.69857032653687,
            35.82551718311365,
            33.974256136479994,
            22.76627241788995,
            25.689920651786004,
        ],
        [
            3.1964798201167817,
            -3.4736821018706854,
            4.940548484616219,
            3.08072585692741,
            -2.3785244855965315,
            4.707909111546316,
            -2.1090973828351025,
            0.05064605517500187,
            4.181247978869113,
            -1.3409815796748168,
        ],
        -230.1248483093744,
    ],
    [
        -0.6632069097995252,
        -6.227504156498411,
        [
            35.36513774027861,
            32.663024833252564,
            35.189197920017016,
            30.272116869649754,
            19.684062712197132,
            34.649084100900566,
            35.02528024419635,
            15.21323959255989,
            14.529886821961306,
            28.056684762733965,
        ],
        [
            -1.6137895117606824,
            -1.5978365186373922,
            4.916815015871721,
            2.3504103421874545,
            2.2440480134821748,
            -0.4681780580996895,
            2.3749145319479847,
            4.400285907646284,
            -1.9756811962731113,
            1.2174713970939663,
        ],
        -269.4740621255837,
    ],
    [
        6.3396312506206876,
        -6.973225136653507,
        [
            11.183360626870762,
            36.17726041321088,
            23.93155169246037,
            16.505681842748952,
            36.997767195785855,
            39.264187112600894,
            37.94675795115744,
            25.634788561964246,
            32.99735371266459,
            20.84202003083425,
        ],
        [
            4.089359640653555,
            4.880991016744554,
            3.1009142993206957,
            -1.5763327861172116,
            -0.5801931207278743,
            -2.8864359113596096,
            3.913375883975542,
            2.38228565829906,
            2.9269310650355145,
            4.558131519470475,
        ],
        -279.0340059016872,
    ],
    [
        3.5894929275436933,
        -9.66595757765999,
        [
            39.706817071955484,
            16.522798251045266,
            33.39276447857745,
            22.24269851296864,
            15.48862308417439,
            33.119365483743074,
            18.026741179939556,
            21.379488907726433,
            26.21297463883609,
            34.15330424908984,
        ],
        [
            -1.3812377935969398,
            3.664879027009839,
            4.9026984839232135,
            -0.22973819930684414,
            -3.87112357864154,
            2.269193379866498,
            -0.7677323152204494,
            3.092314160988165,
            3.222247584315168,
            -1.1547237939415478,
        ],
        -252.65907510976655,
    ],
    [
        7.277941451405553,
        -3.609127251677293,
        [
            24.44493203336176,
            11.746603579261519,
            10.5241392208284,
            32.10231753254723,
            20.778743088243296,
            12.27489961928797,
            39.28287787153597,
            21.79913718665098,
            25.711537503941315,
            24.948072446850315,
        ],
        [
            -4.918627618669204,
            -3.784468265533907,
            3.512245455250966,
            -2.046912656089852,
            3.4580217321729094,
            1.5868491983812767,
            4.239279909739517,
            -1.536871675724314,
            1.4603208117021147,
            -4.233236626238231,
        ],
        -202.8240015644273,
    ],
    [
        -6.9236990136660514,
        5.647091426004396,
        [
            22.264243288917516,
            30.407396831682057,
            34.38773082643263,
            25.92202260506751,
            24.178744064869242,
            18.577090536787537,
            30.697657837560527,
            21.802914770108618,
            18.666020533243163,
            22.52927285900094,
        ],
        [
            3.8097490873293935,
            -1.8656138871751002,
            -0.2951807440022982,
            -3.845784723940638,
            2.357733475061268,
            -2.755453062947425,
            0.23124575447668327,
            3.66312609226355,
            4.607900150242717,
            1.1960686659940647,
        ],
        -225.23610503887033,
    ],
    [
        3.408018374497079,
        -8.291228715104905,
        [
            10.267784343218665,
            11.259497678751497,
            13.406243626613128,
            35.1766816639988,
            30.022268871173058,
            26.270705407034416,
            32.403094592868996,
            24.777036634429052,
            10.39269937755796,
            30.83858548135448,
        ],
        [
            -4.531686200782784,
            1.8100336642376789,
            0.7621757798747995,
            0.2668669373850774,
            4.018950436841408,
            1.1159641605360848,
            0.0792668393732674,
            -1.5986536892070768,
            1.4311084039185316,
            0.16113815926372332,
        ],
        -213.78801466670157,
    ],
    [
        4.412449169419128,
        -6.851453448929565,
        [
            33.56197351171073,
            34.510167121960095,
            16.627700297674444,
            28.39559462595571,
            11.850857123390982,
            27.313412573530602,
            39.5395594802046,
            20.127626628535985,
            21.644240779497252,
            18.225930471354438,
        ],
        [
            3.7706040803747847,
            3.7303269106800325,
            -0.8121599470613985,
            -1.4116280022848624,
            4.07770351734605,
            -3.107198345564753,
            3.869295435184908,
            4.146892855976457,
            1.1240338228225024,
            4.5522114175475075,
        ],
        -251.414883371882,
    ],
    [
        1.2594106162027074,
        9.149055529767509,
        [
            32.93562429571499,
            24.162895204260302,
            10.881321705376049,
            16.78350984875238,
            34.941977421577135,
            20.73780428103249,
            25.399299186294883,
            20.205111095151633,
            35.93545396473545,
            19.33387656921495,
        ],
        [
            0.2081522657727808,
            2.856724153419777,
            -2.3000703005381906,
            3.449503472277163,
            -3.501399741855218,
            2.1549772054628358,
            2.4152490107819133,
            0.313551983164448,
            -4.122268415773015,
            -3.132083785075582,
        ],
        -206.544232948005,
    ],
    [
        7.281950650836883,
        0.6581297131691617,
        [
            34.71369130396517,
            20.476751092458343,
            29.9573738596876,
            35.172536053789116,
            34.88608032874399,
            22.93828160060071,
            19.88578743967033,
            17.86599858061036,
            28.769285372299194,
            19.592380810351777,
        ],
        [
            1.7329092737593674,
            -3.411091220772372,
            -3.528307308612988,
            -3.4462436525315865,
            -0.5648484440172261,
            3.9655666084585377,
            -4.158858349768794,
            -2.948406585924234,
            -3.804918484462372,
            -1.516975381683844,
        ],
        -221.26116389378984,
    ],
    [
        0.8976073284669805,
        6.793792352270309,
        [
            25.37111136614717,
            36.949852069301116,
            28.176750693926643,
            15.386952597824472,
            24.38290616291842,
            14.092583932426724,
            27.991013228295145,
            11.602688477214329,
            11.60879544859094,
            30.258560953156632,
        ],
        [
            -2.7117398752448043,
            4.993085289518945,
            0.25129674411749825,
            -4.716665586378186,
            4.5814873682293165,
            -1.1789284501451478,
            -4.468056358515074,
            -1.3053064651262924,
            -1.3395035272328282,
            2.4393132261561137,
        ],
        -193.33578521339268,
    ],
    [
        -5.198813586598607,
        -0.29673101495902365,
        [
            38.136939232890185,
            18.967421100756468,
            26.001972987747624,
            10.302880777608035,
            28.653012267965103,
            39.6058599928207,
            26.35036143303911,
            31.92862764119619,
            31.18786467344706,
            32.807948954657675,
        ],
        [
            4.73510647964298,
            -3.1444743678163634,
            3.2679897303961134,
            0.3807578831837173,
            4.791403011305496,
            4.682338841083556,
            -2.2531975877506563,
            3.827939897882006,
            3.928808707705322,
            -2.545423059492374,
        ],
        -271.74945575340024,
    ],
    [
        -5.632011499945766,
        -1.2388973101706,
        [
            39.968925946411716,
            33.671175445320294,
            16.41013647673867,
            24.026124497712644,
            19.764804920390965,
            24.811288098059798,
            17.942315123327425,
            14.572959313254044,
            15.208944052806409,
            17.385244977550663,
        ],
        [
            2.72742927686207,
            -0.6175506678710647,
            -1.6434145440870909,
            3.988532041805078,
            -2.6284863698796412,
            -3.5810941594694135,
            2.360050343088421,
            -4.883827334709552,
            -0.913602958880773,
            -0.012440721576576053,
        ],
        -197.9406596913393,
    ],
    [
        -9.913459037275379,
        2.733857076188219,
        [
            29.763427841113664,
            38.93513984135012,
            16.428297918930806,
            12.824240605188969,
            20.844713750186244,
            12.195926360926252,
            38.28556342522643,
            12.005934346331447,
            15.490782163294307,
            28.546765683557652,
        ],
        [
            -2.2487124703396075,
            -1.802156574617121,
            -4.434529593820482,
            1.961932744337619,
            -1.5090715624482187,
            -3.1412154030921124,
            -1.61396841299125,
            -4.307288346648691,
            -3.6730288737895087,
            -3.91414220552859,
        ],
        -177.8408930372629,
    ],
    [
        0.6753335898700854,
        -4.239578874287928,
        [
            14.286253170317071,
            10.257810745460125,
            14.7593756609362,
            34.56158096297892,
            11.77914532068041,
            11.247337134038691,
            29.459515936438216,
            30.986379552441967,
            39.00324678652176,
            36.04658846328596,
        ],
        [
            3.555519324665008,
            -2.748157412287866,
            1.3640696838702473,
            -1.1773913781614098,
            -3.889497485578255,
            4.339546992711524,
            0.3619384369711227,
            -3.942757058468662,
            2.5160895402254324,
            -2.5577859910253284,
        ],
        -211.42750642170694,
    ],
    [
        9.024790122256505,
        8.667641830334023,
        [
            12.609622755004896,
            24.566496210948483,
            28.365303687412716,
            20.033366912147343,
            38.23369247307282,
            12.031885338714183,
            20.546537919681427,
            30.446365885298967,
            11.173732893507399,
            31.122031535303485,
        ],
        [
            3.567338499548926,
            -2.0380567148867277,
            4.18897681708798,
            -4.936457480781474,
            -3.138894210440426,
            2.6874530316353793,
            -0.79282341701572,
            4.466650468015329,
            2.7655259874426195,
            -2.6276816757658263,
        ],
        -201.2763183940046,
    ],
    [
        0.9668600142824086,
        -4.592793432837777,
        [
            21.046271121950838,
            34.28046366394068,
            27.421429557519936,
            21.48082771897477,
            21.26557640418735,
            34.17341533797887,
            21.519229550443306,
            35.065583093877834,
            36.45318844187652,
            29.50970258404855,
        ],
        [
            3.4430235687130146,
            2.3833892258935485,
            0.4883185761261952,
            4.64923995346224,
            0.5248639851163457,
            0.16612850021772463,
            2.1112937687651447,
            -0.2159721341564138,
            -2.954558467538493,
            1.3579725498129793,
        ],
        -269.3452417339276,
    ],
]


class Scalar(ABC):
    pass


class Vectorial(ABC):
    pass


@dataclass
class Value(Scalar):
    value: Annotated[int, IntRange(-10, 10)]

    def __str__(self):
        return str(self.value)


@dataclass
class ScalarVar(Scalar):
    index: Annotated[int, IntRange(0, 1)]

    def __str__(self):
        return f"line[{self.index}]"


@dataclass
class VectorialVar(Vectorial):
    index: Annotated[int, IntRange(2, 3)]

    def __str__(self):
        return f"line[{self.index}]"


@dataclass
class Add(Scalar):
    left: Scalar
    right: Scalar

    def __str__(self):
        return f"({self.left} + {self.right})"


@dataclass
class Mean(Scalar):
    arr: Vectorial

    def __str__(self):
        return f"np.mean({self.arr})"


@dataclass
class Max(Scalar):
    arr: Vectorial

    def __str__(self):
        return f"np.max({self.arr})"


@dataclass
class Min(Scalar):
    arr: Vectorial

    def __str__(self):
        return f"np.min({self.arr})"


@dataclass
class Sum(Scalar):
    arr: Vectorial

    def __str__(self):
        return f"np.sum({self.arr})"


@dataclass
class Length(Scalar):
    arr: Vectorial

    def __str__(self):
        return f"len({self.arr})"


@dataclass
class ElementWiseSum(Vectorial):
    scalar: Scalar
    vector: Vectorial

    def __str__(self):
        return f"np.add({self.scalar}, {self.vector})"


@dataclass
class ElementWiseSub(Vectorial):
    scalar: Scalar
    vector: Vectorial

    def __str__(self):
        return f"np.subtract({self.scalar}, {self.vector})"


@dataclass
class CumulativeSum(Vectorial):
    arr: Vectorial

    def __str__(self):
        return f"np.cumsum({self.arr})"


@dataclass
class CumulativeMean(Vectorial):
    arr: Vectorial

    def __str__(self):
        return "(lambda a: np.array([np.median(a[:i+1]) for i in range(len(a))]))({})".format(
            self.arr,
        )


@dataclass
class CumulativeMax(Vectorial):
    arr: Vectorial

    def __str__(self):
        return (
            "(lambda a: np.array([np.max(a[:i+1]) for i in range(len(a))]))({})".format(
                self.arr,
            )
        )


@dataclass
class CumulativeMin(Vectorial):
    arr: Vectorial

    def __str__(self):
        return (
            "(lambda a: np.array([np.min(a[:i+1]) for i in range(len(a))]))({})".format(
                self.arr,
            )
        )


def compile(p, line) -> Any:
    if isinstance(p, Value):
        return p.value
    elif isinstance(p, ScalarVar) or isinstance(p, VectorialVar):
        return line[p.index]
    elif isinstance(p, Add):
        return compile(p.left, line) + compile(p.right, line)
    elif isinstance(p, Mean):
        return np.mean(compile(p.arr, line))
    elif isinstance(p, Max):
        return np.max(compile(p.arr, line))
    elif isinstance(p, Min):
        return np.min(compile(p.arr, line))
    elif isinstance(p, Sum):
        return np.sum(compile(p.arr, line))
    elif isinstance(p, Length):
        return len(compile(p.arr, line))
    elif isinstance(p, ElementWiseSum):
        return np.add(compile(p.scalar, line), compile(p.vector, line))
    elif isinstance(p, ElementWiseSub):
        return np.subtract(compile(p.scalar, line), compile(p.vector, line))
    elif isinstance(p, CumulativeSum):
        return np.cumsum(compile(p.arr, line))
    elif isinstance(p, CumulativeMean):
        a = compile(p.arr, line)
        return np.array([np.median(a[: i + 1]) for i in range(len(a))])
    elif isinstance(p, CumulativeMax):
        a = compile(p.arr, line)
        return np.array([np.max(a[: i + 1]) for i in range(len(a))])
    elif isinstance(p, CumulativeMin):
        a = compile(p.arr, line)
        return np.array([np.min(a[: i + 1]) for i in range(len(a))])
    else:
        raise NotImplementedError(str(p))


def fitness_function(n: Scalar):
    def regressor(l):
        return compile(n, l)

    y_pred = [regressor(line) for line in dataset]
    y = [line[-1] for line in dataset]
    r = mean_squared_error(
        y,
        y_pred,
    )  # should use our own from metrics, but left as such to align with pony
    return r


def fitness_function_alternative(n: Scalar):
    code = f"lambda line: {str(n)}"
    regressor = eval(code)
    y_pred = [regressor(line) for line in dataset]
    y = [line[-1] for line in dataset]
    r = mean_squared_error(y, y_pred)
    return r


def preprocess():
    g = extract_grammar(
        [
            Value,  #
            ScalarVar,  #
            VectorialVar,  #
            Add,  #
            Mean,  #
            Max,  #
            Min,  #
            Sum,  #
            Length,  #
            ElementWiseSum,  #
            ElementWiseSub,  #
            CumulativeSum,  #
            # CumulativeMean,
            CumulativeMax,  #
            CumulativeMin,  #
        ],
        Scalar,
    )
    print(g)
    return g

    # see fitness/vectorialgp.py for docs.

    # <p> ::= XXX_output_XXX = <s>
    # <s> ::= <literal> | <variable> | <s> + <s> | np.mean(<v>) | np.max(<v>) | np.min(<v>) | np.sum(<v>) | len(<v>)

    # <variable> ::= line[<si>]
    # <si> ::= 0 | 1
    # <literal> ::= <d>.<d> | -<d>.<d>

    # <v> ::= line[<sv>] | np.cumsum(<v>) | np.add(<s>, <v>) | np.subtract(<s>, <v>) | cummax(<v>) | cummin(<v>)
    # <sv> ::= 2 | 3

    # <d> ::= GE_RANGE:10


def evolve(
    g,
    seed,
    mode,
    representation="treebased_representation",
):
    if representation == "grammatical_evolution":
        representation = ge_representation
    elif representation == "sge":
        representation = sge_representation
    else:
        representation = treebased_representation

    alg = GP(
        g,
        fitness_function,
        representation=representation,
        minimize=True,
        seed=seed,
        # As in PonyGE2:
        probability_crossover=0.75,
        probability_mutation=0.01,
        number_of_generations=30,
        max_depth=14,  # In grammar of PonyGE there is one redundant root node.
        # max_init_depth=10,
        population_size=100,
        selection_method=("tournament", 2),
        n_elites=5,
        # ----------------
        timer_stop_criteria=mode,
    )
    (b, bf, bp) = alg.evolve(verbose=1)
    return b, bf


if __name__ == "__main__":
    g = preprocess()
    bf, b = evolve(g, 0, False)
    print(b)
    print(f"With fitness: {bf}")
